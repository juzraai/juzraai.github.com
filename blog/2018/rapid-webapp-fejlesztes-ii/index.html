<!DOCTYPE html> <html lang="hu"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <!-- Begin Jekyll SEO tag v2.5.0 --> <title>Rapid webapp fejleszt√©s II. | Zsolt Jur√°nyi (juzraai)</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Rapid webapp fejleszt√©s II." /> <meta name="author" content="Zsolt Jur√°nyi" /> <meta property="og:locale" content="hu_HU" /> <meta name="description" content="Eddig Java+Spring vonalon mozogtam, de a minap kipr√≥b√°ltam a Node-ot. Meglep≈ëen gyorsan tudtam vele haladni, √≠gy fil√≥zom az ir√°nyv√°lt√°son." /> <meta property="og:description" content="Eddig Java+Spring vonalon mozogtam, de a minap kipr√≥b√°ltam a Node-ot. Meglep≈ëen gyorsan tudtam vele haladni, √≠gy fil√≥zom az ir√°nyv√°lt√°son." /> <link rel="canonical" href="https://juzraai.github.io/blog/2018/rapid-webapp-fejlesztes-ii/" /> <meta property="og:url" content="https://juzraai.github.io/blog/2018/rapid-webapp-fejlesztes-ii/" /> <meta property="og:site_name" content="Zsolt Jur√°nyi (juzraai)" /> <meta property="og:image" content="https://juzraai.github.io/assets/facebook-og-image.png" /> <meta property="og:image:height" content="630" /> <meta property="og:image:width" content="1200" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2018-05-18T00:00:00+02:00" /> <script type="application/ld+json"> {"description":"Eddig Java+Spring vonalon mozogtam, de a minap kipr√≥b√°ltam a Node-ot. Meglep≈ëen gyorsan tudtam vele haladni, √≠gy fil√≥zom az ir√°nyv√°lt√°son.","author":{"@type":"Person","name":"Zsolt Jur√°nyi"},"@type":"BlogPosting","url":"https://juzraai.github.io/blog/2018/rapid-webapp-fejlesztes-ii/","image":{"width":1200,"height":630,"url":"https://juzraai.github.io/assets/facebook-og-image.png","@type":"imageObject"},"headline":"Rapid webapp fejleszt√©s II.","dateModified":"2019-11-01T10:49:05+01:00","datePublished":"2018-05-18T00:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://juzraai.github.io/blog/2018/rapid-webapp-fejlesztes-ii/"},"@context":"http://schema.org"}</script> <!-- End Jekyll SEO tag --> <meta property="og:image:type" content="image/png" /> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> <link rel="manifest" href="/site.webmanifest"> <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#016fb9"> <meta name="msapplication-TileColor" content="#016fb9"> <meta name="theme-color" content="#016fb9"> <link type="application/atom+xml" rel="alternate" href="https://juzraai.github.io/feed.xml" title="Zsolt Jur√°nyi (juzraai)" /> <link rel="dns-prefetch" href="//fonts.googleapis.com/"> <link rel="dns-prefetch" href="//cdnjs.cloudflare.com"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow+Condensed:300,300i,400,500,600|Inconsolata:400,700&amp;subset=latin-ext" /> <link rel="stylesheet" href="/assets/page.css" /> </head> <body> <nav class="navbar navbar-expand-lg navbar-dark bg-dark"> <div class="container"> <a class="navbar-brand" href="/">Zsolt</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarSupportedContent"> <ul class="navbar-nav mr-auto w-100"> <li class="nav-item"> <a class="nav-link" href="/projects/hu/" target="">Munk√°im</a> </li> <li class="nav-item"> <a class="nav-link" href="/blog/hu/" target="">Feljegyz√©seim</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/juzraai" target="_blank">GitHub</a> </li> <li class="nav-item"> <a class="nav-link" href="/contact/hu/" target="">Kontakt</a> </li> </ul> </div> </div> </nav> <div class="container"> <div class="row my-5 border-bottom"> <div class="col"> <div class="mb-3 text-muted"> May 18, 2018 / <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/js/">#js</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/nodejs/">#nodejs</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/stack/">#stack</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/vuejs/">#vuejs</a> <a class="d-inline-block mr-1 mb-1" href="/blog/hu/tag/webapp/">#webapp</a> </div> <h1>Rapid webapp fejleszt√©s II.</h1> </div> </div> <div class="row"> <div class="col content"> <ul class="list-unstyled mb-5 toc"> <li><a href="#el√∂lj√°r√≥ban">El√∂lj√°r√≥ban</a></li> <li><a href="#vue">Vue</a></li> <li><a href="#node">Node</a></li> <li><a href="#kieg√©sz√≠t≈ëk">Kieg√©sz√≠t≈ëk</a></li> <li><a href="#tldr">TL;DR</a></li> </ul> <h2 id="el√∂lj√°r√≥ban">El√∂lj√°r√≥ban</h2> <p>Gyakorlatilag az egyetemi √©veim √≥ta Java vonalon mozgok. Munk√°m sor√°n is ebben √≠rtam mindent, ami szerveroldali √©s nem mini szkript, ami Bash-al megoldhat√≥. Az elm√∫lt 1-1.5 √©vben l√©ptem tov√°bb <a href="https://kotlinlang.org">Kotlin</a>-ra, ami szint√©n JVM vonal ugye, de felgyors√≠tja √©s k√©nyelmesebb√© teszi a fejleszt√©st.</p> <p>Legink√°bb crawlereket fejlesztek, de emellett gyakran webalkalmaz√°sokat is k√©sz√≠tenem kell. Ezeket eddig Spring Boot-ra √©p√≠tettem, √©s k√ºl√∂nf√©le template engine-ekkel dolgoztam: kezdetben <a href="https://freemarker.apache.org/">Freemarker</a>-rel, majd ut√°na m√©g 3-4-et kipr√≥b√°ltam a projektek sor√°n.</p> <p>A webapp fejleszt√©shez persze p√°rosult frontend t√°kol√°s is. Sok tapasztalatot gy≈±jt√∂ttem CSS-ben √©s JS-ben, el≈ëbbin√©l a Bootstrap valamint a LESS/SASS, ut√≥bbin√°l a <a href="http://knockoutjs.com/">KnockoutJS</a> megismer√©se √©s haszn√°latba v√©tele volt m√©rf√∂ldk≈ë.</p> <p>Mindezekr≈ël egyszer <a href="/blog/2015/rapid-webapp-fejlesztes">m√°r √≠rtam</a> p√°r √©ve.</p> <p>Viszont mik√∂zben j√≥l elvoltam <a href="https://projects.spring.io/spring-boot/">Spring Boot</a>-tal, Kotlin-nal √©s Knockout-tal, elrohantak mellettem a frontend technol√≥gi√°k, ES6, TypeScript, Node JS, React, Angular, Grunt, Gulp √©s t√°rsaik‚Ä¶ ezekkel sajnos le vagyok maradva.</p> <p>De m√°r nem is annyira! üòÄ</p> <h2 id="vue">Vue</h2> <p>A minap kaptam egy olyan feladatot, hogy t√°koljak √∂ssze egy k√≠s√©rleti admin fel√ºletet egy kis adatb√°zishoz. Nem kell j√≥l kin√©znie, az a c√©l, hogy interakt√≠van el≈ë tudj√°k sz≈±rni a sorokat √©s azok bizonyos kombin√°ci√≥it. K√©ne bele CRUD, meg minim√°lis √©rt√©kel√©si lehet≈ës√©g is (+/-).</p> <p>Azt el√©g hamar eld√∂nt√∂ttem, hogy nem akarok template engine-ekkel id≈ët vesztegetni, egy egyszer≈± REST API-t csin√°lok, √©s a kliensoldal sima HTML+JS lesz, AJAX h√≠v√°sokkal.</p> <p>A frontend megval√≥s√≠t√°s√°hoz a <a href="https://vuejs.org/">Vue</a>-t h√≠vtam seg√≠ts√©g√ºl, amit p√°r h√≥napja ismertem meg. Egyb≈ël beleszerettem, sokkal k√©nyelmesebb a Knockout-n√°l, nem kell observable iz√©kkel sz√≥rakozni, a view model is sz√©pen struktur√°lt, a HTML attrib√∫tumok bar√°ts√°gosak. Egy baja van szeg√©nynek, hogy r√©gebbi b√∂ng√©sz≈ëk√∂n nem megy, ellent√©tben a Knockout-tal.</p> <h2 id="node">Node</h2> <p>M√°r nem is tudom hogyan, de a backend kapcs√°n bevillant egy gondolat: <em>‚ÄúMi lenne, ha megpr√≥b√°ln√°m Node-dal?‚Äù</em>. Ami meglep≈ë, mert sosem haszn√°ltam m√©g ezel≈ëtt. Legut√≥bb p√°r h√≥napja mer√ºlt fel egy adatvizualiz√°ci√≥s klubban, hogy majd √∂sszepattintanak egy API-t Node-ban egy adatb√°zis el√© - ez ragadhatott meg bennem.</p> <p>Felkerekedtem √©s el√©g hamar r√°akadtam erre a tutorial-ra: <a href="https://medium.com/@avanthikameenakshi/building-restful-api-with-nodejs-and-mysql-in-10-min-ff740043d4be">Building REST API in the blink of an eye</a>. V√©gigolvastam, elk√©pedtem, majd √∫jra √°tn√©ztem. Gyakorlatilag 30 sorb√≥l √©p√≠t egy mini webappot, ami lek√©rdez egy adatb√°zisb√≥l.</p> <p>Elkezdtem reproduk√°lni a dolgot, hogy l√°ssam m≈±k√∂d√©s k√∂zben, √©s √≠gy megismertem a technol√≥gi√°kat. A webapp keret√©t az <a href="https://expressjs.com/">ExpressJS</a> adja, √©s gyakorlatilag a request-eket feldolgoz√≥ l√°ncba tudunk betoldani saj√°t dolgokat. Van hozz√° parancssoros projekt gener√°tor is, de nekem nem kellettek view engine-ek, egyszer≈±bb appot kre√°ltam <a href="https://stackoverflow.com/a/19415943/2418224">e v√°lasz</a> alapj√°n.</p> <p>Az adatb√°zissal val√≥ kommunik√°ci√≥√©rt a <a href="https://github.com/mysqljs/mysql">mysqljs</a> csomag felel, a lek√©rdez√©sek eredm√©nyeit gy√∂ny√∂r≈± JS objektumokban adja vissza.</p> <p>Miel≈ëtt neki√ºltem ennek a dolognak, elind√≠tottam a <a href="https://toggl.com/">Toggl</a> stoppert, √©s amikor eljutottam od√°ig, hogy van egy kis API-m, ami visszaad egy szimpla lek√©rdez√©st, elkerekedett a szemem: kb. 1 √≥r√°n√°l j√°rt a sz√°ml√°l√≥. Annyi id≈ë volt √∂sszerakni a cuccot nulla Node tapasztalattal, gugliz√°ssal, mint t√∂bb √©v tapasztalattal bekonfigolni egy Maven + Kotlin + Spring Boot + MySQL projektet IDE-ben.</p> <p><strong>Sz√≥val √∫gy √©rzem, √∫j dimenzi√≥k ny√≠lnak :) √©s komolyan elfil√≥zom most, hogy ebbe az ir√°nyba haladok tov√°bb, elfordulva a JVM vil√°gt√≥l.</strong> Legal√°bbis a webappok ter√ºlet√©n‚Ä¶ de tal√°n akkor m√°r a crawlerekkel is. üòé</p> <h2 id="kieg√©sz√≠t≈ëk">Kieg√©sz√≠t≈ëk</h2> <p>A projekt l√©nyegi r√©sz√©t az√≥ta √∂sszekalap√°ltam, a fentebb v√°zolt stack-hez (MySQL + Node + Vue) kellett m√©g p√°r lib, hogy megfelel≈ëen m≈±k√∂dj√∂n a dolog √©s eleg√°ns is legyen a megval√≥s√≠t√°s.</p> <p>Az els≈ë ilyen a <a href="https://github.com/motdotla/dotenv">dotenv</a>, ami annyit csin√°l, hogy a program k√∂nyvt√°r√°b√≥l beolvassa a <code class="highlighter-rouge">.env</code> f√°jl tartalm√°t √©s bet√∂lti a <code class="highlighter-rouge">process.env</code> objektumba, a k√∂rnyezeti v√°ltoz√≥khoz. A konfigf√°jlt √©rdemes kihagyni verzi√≥k√∂vet√©sb≈ël, √©s minden egyes k√∂rnyezetben k√ºl√∂n defini√°lni az √©rt√©keket. (Anal√≥gia: <code class="highlighter-rouge">application.yml</code> a Spring Boot h√°za t√°j√°n.)</p> <p>Keresg√©ltem megold√°sokat a Node JS appom biztons√°gosabb√° t√©tel√©re, az egyik csomag a <a href="https://github.com/helmetjs/helmet">helmet</a> volt, ami szembe j√∂tt. Fontos HTTP header-√∂ket injekt√°l a v√°laszokba, pl. frameguard, nosniff, vagy opcion√°lisan kikapcsolja a kliensoldali cache-el√©st is.</p> <p>Azt√°n r√°tal√°ltam a <a href="http://www.passportjs.org/">Passport</a>-ra, √©s igaz√°b√≥l ezt kerestem. Mindenf√©le authentik√°ci√≥t be lehet k√∂tni az Express alkalmaz√°sba, a fentiekben megszokott m√≥don, p√°r sorban. Tud pl. HTTP Basic-et is, amit sokkal gyorsabb itt be√°ll√≠tani, mint <code class="highlighter-rouge">.htaccess</code>-el √©s <code class="highlighter-rouge">.htpasswd</code>-vel sz√≥rakozva Apache-ban.</p> <p>Nagyon hasznos m√©g a <a href="https://db-migrate.readthedocs.io/en/latest/">db-migrate</a>, melynek seg√≠ts√©g√©vel az adatb√°zis s√©ma fel√©p√≠t√©s√©nek l√©p√©seit egy k√∂t√∂tt form√°ban r√∂gz√≠thetj√ºk, hogy azt√°n k√©s≈ëbb konzisztensen reproduk√°lni tudjuk egy m√°sik k√∂rnyezetben. (Ld. <a href="https://www.liquibase.org/">Liquibase</a> a Java vil√°gban.)</p> <p>Utols√≥k√©nt a <a href="http://pm2.keymetrics.io/">PM2</a> nev≈± zseni√°lis toolt eml√≠ten√©m meg. Ez egy process manager, legink√°bb a <code class="highlighter-rouge">systemd</code> f√©le <code class="highlighter-rouge">service</code> <a href="https://www.commandlinux.com/man-page/man5/systemd.service.5.html">parancshoz</a> hasonl√≠tan√°m, de sokkal bar√°ts√°gosabb ann√°l √©s (laikus szemmel n√©zve) t√∂bbet is tud. Tud processzeket nyilv√°ntartani, ind√≠tani, le√°ll√≠tani, √∫jraind√≠tani, st√°tuszt √©s logot list√°zni. Szkriptek (nem csak Node) futtat√°s√°ra van kital√°lva, k√©pes arra is, hogy √∫jraind√≠tson egy appot, ha annak f√°jljai friss√ºlnek (<code class="highlighter-rouge">--watch</code>).</p> <h2 id="tldr">TL;DR</h2> <p>Ez a poszt el√©g hossz√∫ra sikeredett, √∂sszefoglalom:</p> <ul> <li>Eddig Java/Kotlin + Spring + Knockout vonalon mozogtam webalkalmaz√°s fejleszt√©s ter√©n.</li> <li>Az ut√≥bbi id≈ëben a Knockout-ot Vue-ra cser√©ltem, sokkal bar√°ts√°gosabb.</li> <li>A minap kaptam egy mini webalkalmaz√°s megrendel√©st √©s √∫gy d√∂nt√∂ttem, megpr√≥b√°lom Node-dal megval√≥s√≠tani.</li> <li>Keresg√©ltem tutorialokat √©s technol√≥gi√°kat, √©s elk√©pedve tapasztaltam, hogy nagyon gyorsan tudok vele haladni.</li> <li>Megismertem az ExpressJS-t, a Passport-ot, a db-migrate-et √©s a PM2-t.</li> <li>Komolyan fontolgatom az ir√°nyv√°lt√°st a JVM vil√°gt√≥l a Node fel√©.</li> </ul> </div> </div> <div class="row mt-3"> <div class="col text-center"> <script> if (!window.scripts) window.scripts = []; window.scripts = window.scripts.concat('https://connect.facebook.net/hu_HU/sdk.js#xfbml=1&version=v3.0'); </script> <div class="fb-like" data-href="https://juzraai.github.io/blog/2018/rapid-webapp-fejlesztes-ii/" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="true"></div> </div> </div> <div class="row my-5 border-top"> <div class="col-md-8 mt-3"> <big class="font-weight-normal text-dark"> <strong>Zsolt vagyok,</strong> full-stack fejleszt≈ë. </big> <br> Crawlereket, webalkalmaz√°sokat, statikus honlapokat √©s interakt√≠v vizualiz√°ci√≥kat k√©sz√≠tek. </div> <div class="col mt-3 small"> <ul class="list-unstyled d-flex d-md-block pl-md-3"> <li class="mr-3 mr-md-0"><a href="/projects/hu/" target="">Munk√°im</a></li> <li class="mr-3 mr-md-0"><a href="/blog/hu/" target="">Feljegyz√©seim</a></li> <li class="mr-3 mr-md-0"><a href="https://github.com/juzraai" target="_blank">GitHub</a></li> <li class="mr-3 mr-md-0"><a href="/contact/hu/" target="">Kontakt</a></li> </ul> </div> </div> <div class="row"> <div class="col mb-3 small text-center text-muted"> Copyright &copy; 2019 Zsolt Jur√°nyi | All rights reserved. </div> </div> </div> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js"></script> <script>$(function () { $('a[href^=http]').attr('target', '_blank'); })</script> <script> if (!window.scripts) window.scripts = []; window.scripts = window.scripts.concat('https://www.googletagmanager.com/gtag/js?id=UA-41050675-1'); window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-41050675-1', { 'anonymize_ip': true }); </script> <div id="cc" style="display:none"> <div class="c" onclick="ccClear()"></div> <div class="p"> <p> A honlap helyes m≈±k√∂d√©s√©hez √©s n√©mi statisztik√°hoz szeretn√©k s√ºtiket haszn√°lni. <a href="/privacy/hu/">R√©szletek</a> </p> <div class="r"> <a href="javascript:void(0)" onclick="ccDeny()">Elrejt√©s</a> <a class="b" href="javascript:void(0)" onclick="ccAllow()">Enged√©lyezem</a> </div> </div> </div> <script> /* js-cookie v2.2.0 */ !function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},t.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{/^[\{\[]/.test(c=JSON.stringify(r))&&(r=c)}catch(e){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var f in i)i[f]&&(s+="; "+f,!0!==i[f]&&(s+="="+i[f]));return document.cookie=n+"="+r+s}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var l=p[u].split("="),C=l.slice(1).join("=");this.json||'"'!==C.charAt(0)||(C=C.slice(1,-1));try{var g=l[0].replace(d,decodeURIComponent);if(C=o.read?o.read(C,g):o(C,g)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(e){}if(n===g){c=C;break}n||(c[g]=C)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})}); function addClass(element, className) { element.className += ' ' + className; } function removeClass(element, className) { element.className = element.className.replace( new RegExp('( |^)' + className + '( |$)', 'g'), ' ').trim(); } var c = 'juzraai-cc-v1'; function ccInit() { var v = Cookies.get(c); var e = document.getElementById('cc'); if ('allow' == v) { e.style.display = 'none'; ccLoadScripts(); } else { if ('deny' == v) { addClass(e, 'small'); } else { removeClass(e, 'small'); } e.style.display = null; } } function ccAllow() { Cookies.set(c, 'allow', { expires: 365 }); ccInit(); } function ccClear() { Cookies.remove(c); ccInit(); } function ccDeny() { Cookies.set(c, 'deny', { expires: 7 }); ccInit(); } function ccLoadScripts() { if (!window.scripts) window.scripts = []; for (var i = 0; i < window.scripts.length; i++) { var script = document.createElement('script'); script.src = window.scripts[i]; document.body.appendChild(script); } } ccInit(); </script> </body> </html>
